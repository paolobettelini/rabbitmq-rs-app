\documentclass[a4paper]{article}

\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{parskip}    % skip line
\usepackage{fullpage}   % margins
\usepackage{hyperref}   % hyper references and document setup
\usepackage{makecell}   % cell scopes for tables
\usepackage{xcolor}     % colors
\usepackage{listings}   % format code
\usepackage{biblatex}   % references
\usepackage{subfiles}   % project structure - best loaded last in the preamble
\usepackage{graphicx}
\usepackage{listings-rust}

% Needed packages
% texlive-core
% texlive-bibtexextra
% texlive-latexextra

\hypersetup{
    colorlinks=true,
    linkcolor=black,
    urlcolor=blue,
    pdftitle={Paolo Bettelini - Documentation},
    pdfpagemode=FullScreen,
}

\addbibresource{./references.bib}
\graphicspath{ {./sections/images} }

\definecolor{lightgray}{rgb}{0.9,0.9,0.9}
\definecolor{darkgreen}{rgb}{0, 0.6, 0.2}


\lstdefinestyle{generic} {
    backgroundcolor=\color{lightgray},
}

\lstdefinestyle{sql} {
    language=SQL,
    backgroundcolor=\color{lightgray},
    breakatwhitespace=false,
    basicstyle=\footnotesize,
    breaklines=true,
    captionpos=b,
    commentstyle=\color{dkgreen},
    deletekeywords={...},
    escapeinside={\%*}{*)},
    extendedchars=true,
    keepspaces=true,
    keywordstyle=\color{blue},
    morekeywords={*,modify,MODIFY,...},
    numbers=none,
    showspaces=false,
    showstringspaces=false, 
	showtabs=false,
    stepnumber=1,
}

\colorlet{punct}{red!60!black}
\definecolor{background}{HTML}{EEEEEE}
\definecolor{delim}{RGB}{20,105,176}
\colorlet{numb}{magenta!60!black}

\lstdefinelanguage{json}{
    basicstyle=\normalfont\ttfamily,
    numbers=none,
    numberstyle=\scriptsize,
    stepnumber=1,
    numbersep=8pt,
    showstringspaces=false,
    breaklines=true,
    frame=lines,
    stringstyle=\ttfamily\color{red!50!brown},
    morestring=*[d]{"},
    backgroundcolor=\color{background}
}

\lstdefinelanguage{Toml}{
    comment = [l]{\#},
    keywords = {true, false},
    morestring = [b]{"}
}

\lstdefinestyle{toml}{
    language=Toml,
    tabsize = 2,
    frame = tb,
    breaklines = true,
    numbers = left,
    numbersep = 5pt,
    numberstyle = \color{white!30!black}\scriptsize,
    stepnumber = 1,
    basicstyle = \footnotesize\ttfamily,
    commentstyle={\color{green!50!black}\ttfamily},
    keywordstyle = {\bfseries\color{purple}},
    keywordstyle = [2]{\itshape\color{blue}},
    keywordstyle = [3]{\color{blue}},
    keywordstyle = [4]{\color{blue}},
    keywordstyle = [5]{\color{purple!50!blue}},
    stringstyle = \color{green!45!blue},
    aboveskip = \baselineskip,
    showstringspaces = false
}

\lstdefinelanguage{JavaScript}{
    keywords={typeof, new, true, false, catch, function, return, null, catch, switch, var, if, in, while, do, else, case, break},
    keywordstyle=\color{blue}\bfseries,
    ndkeywords={class, extends, export, boolean, throw, implements, import, this},
    ndkeywordstyle=\color{olive}\bfseries,
    sensitive=false,
    comment=[l]{//},
    morecomment=[s]{/*}{*/},
    commentstyle=\color{darkgray}\ttfamily,
    morestring=[b]',
    morestring=[b]",
    stringstyle=\color{red}\ttfamily
}

\lstdefinestyle{js} {
   language=JavaScript,
   backgroundcolor=\color{lightgray},
   extendedchars=true,
   basicstyle=\footnotesize\ttfamily,
   showstringspaces=false,
   showspaces=false,
   numberstyle=\footnotesize,
   numbersep=9pt,
   tabsize=2,
   breaklines=true,
   showtabs=false,
   captionpos=b
}

\lstdefinelanguage{HTML5}{
    keywords={head, body, div, ul, ol, lh, li, table, input, meta, title, thead, tbody, tr, th, pre, p, nav, main, header, h1, h2, h3, h4, h5, h6, footer, i, b, u, style, link, img, q},
    keywordstyle=\color{blue}\bfseries,
    sensitive=false,
    comment=[s]{<!--}{-->},
    commentstyle=\color{darkgray}\ttfamily,
    morestring=[b]",
    stringstyle=\color{red}\ttfamily
}

\lstdefinestyle{html} {
   language=HTML5,
   backgroundcolor=\color{lightgray},
   extendedchars=true,
   basicstyle=\footnotesize\ttfamily,
   showstringspaces=false,
   showspaces=false,
   numberstyle=\footnotesize,
   numbersep=9pt,
   tabsize=2,
   breaklines=true,
   showtabs=false,
   captionpos=b
}

\title{%
    RabbitMQ Infrastructure \\
    \large Documentation
}

\author{%
    Paolo Bettelini \\
    \large Scuola d'Arti e Mestieri di Trevano (SAMT)}

\date{}

\begin{document}

\maketitle

\pagebreak

\tableofcontents

\pagebreak

\section{Introduction}

\subfile{sections/introduction}

\pagebreak

\section{Analysis}

\subfile{sections/analysis}

\pagebreak

\section{Planning}

\subfile{sections/planning}

\pagebreak

\section{Infrastructure}

\subfile{sections/infrastructure}

\pagebreak

\section{Technologies}

\subfile{sections/technologies}

\pagebreak

\section{Implementation}

\subfile{sections/implementation}

\pagebreak

\section{Structure}

\subfile{sections/structure}

\pagebreak

\section{Compilation and usage}

\subfile{sections/usage}

\pagebreak

\section{Testing}

\subfile{sections/testing}

\pagebreak

\section{Conclusion}

\subfile{sections/conclusion}

\pagebreak

\section{References}

\nocite{*}

\printbibliography[type=online, heading=subbibliography, title=Sitography]

\end{document}